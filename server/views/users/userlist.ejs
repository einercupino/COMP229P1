<%- include ('../partials/header.ejs') %>

<%- include ('../partials/main_nav.ejs') %>


<div class="container-fluid justify-content-center bg-dark" >
    <br><br><br><br><br>
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <h1> Users </h1>
            <% if(typeof displayName == 'string' && displayName) { %>
            <a href="/user-list/add" class="btn btn-dark" role="button">
                <i class="fas fa-plus-circle"></i> Add User</a>
            <% } %>
            <br>
            <table class="table table-striped table-hover">
                <tr class="d-flex">
                    <% if(typeof displayName == 'string' && displayName) { %>
                    <th class="text-center text-white col-2" style="background-color: #212121;">First Name</th>
                    <th class="text-center text-white col-2" style="background-color: #212121;">Last Name</th>
                    <th class="text-center text-white col-1" style="background-color: #212121;">Contact#</th>
                    <th class="text-center text-white col-3" style="background-color: #212121;">Email</th>
                    <th class="text-center text-white col-2" style="background-color: #212121;">Location</th>
                    <th class="text-center text-white col-1" style="background-color: #212121;"></th>
                    <th class="text-center text-white col-1" style="background-color: #212121;"></th>
                    <% } else { %>
                    <th class="text-center text-white col-1" style="background-color: #212121;"></th>
                    <th class="text-center text-white col-2" style="background-color: #212121;">First Name</th>
                    <th class="text-center text-white col-2" style="background-color: #212121;">Last Name</th>
                    <th class="text-center text-white col-1" style="background-color: #212121;">Contact#</th>
                    <th class="text-center text-white col-3" style="background-color: #212121;">Email</th>
                    <th class="text-center text-white col-2" style="background-color: #212121;">Location</th>
                    <th class="text-center text-white col-1" style="background-color: #212121;"></th>
                    <% } %>
                </tr>


                <% for(let count=0; count < UserList.length; count++) { %>
                    <tr class="d-flex">"
                        <% if(typeof displayName == 'string' && displayName) { %>
                        <td class="text-center col-2" style="background-color: #FAFAFA;"><%= UserList[count].fname %></td>
                        <td class="text-center col-2" style="background-color: #FAFAFA;"><%= UserList[count].lname %></td>
                        <td class="text-center col-1" style="background-color: #FAFAFA;"><%= UserList[count].contact %></td>
                        <td class="text-center col-3" style="background-color: #FAFAFA;"><%= UserList[count].email %></td>
                        <td class="text-center col-2" style="background-color: #FAFAFA;"><%= UserList[count].location %></td>
                        <td class="text-center col-1" style="background-color: #FAFAFA;">
                            <a href="/user-list/edit/<%= UserList[count]._id %>" class="btn btn-primary btn-sm">
                            <i class="fa-solid fa-pen-to-square"></i> Edit</a>
                        </td>
                        <td class="text-center col-1"  style="background-color: #FAFAFA;">
                            <a href="/user-list/delete/<%= UserList[count]._id %>" class="btn btn-danger btn-sm">
                            <i class="fa-solid fa-trash"></i> Delete</a>
                        </td>
                        <% } else {%>
                        <td class="text-center col-1" style="background-color: #FAFAFA;"><%= count+1 %></td>
                        <td class="text-center col-2" style="background-color: #FAFAFA;"><%= UserList[count].fname %></td>
                        <td class="text-center col-2" style="background-color: #FAFAFA;"><%= UserList[count].lname %></td>
                        <td class="text-center col-1" style="background-color: #FAFAFA;"><%= UserList[count].contact %></td>
                        <td class="text-center col-3" style="background-color: #FAFAFA;"><%= UserList[count].email %></td>
                        <td class="text-center col-2" style="background-color: #FAFAFA;"><%= UserList[count].location %></td>
                        <td class="text-center col-1" style="background-color: #FAFAFA;"></td>
                        <% } %>
                    </tr>
                <% } %>
            </table>
        </div>
    </div>
</div>
<div class="container-fluid justify-content-center bg-dark">
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</div>

<%- include ('../partials/bottom_nav.ejs') %>

<%- include ('../partials/footer.ejs') %>